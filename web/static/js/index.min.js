var ldcv,parse,view,choose;ldcv={view:new ldCover({root:".ldcv.ldcv-view"}),font:new ldCover({root:".ldcv.ldcv-font"})},parse=function(e){return ld$.find(".ldcv.ldcv-view i").map(function(t,n){var i;return i=t.getAttribute("class"),i=i.replace(/i-\S+/g,""),t.setAttribute("class",i),t.classList.add("i-"+e)}),ldcv.view.toggle(!0)},ld$.fetch("assets/lib/ldif/dev/ldif.json",{method:"GET"},{type:"json"}).then(function(e){return new ldView({root:document.body,handler:{glyph:{key:function(e){return e.name},list:function(){return e},view:{action:{click:{cell:function(e){var t;return t=e.context,parse(t.name)}}},text:{name:function(e){return e.context.name},code:function(e){return e.context.code}},handler:{icon:function(e){var t,n;return t=e.node,n=e.context,t.classList.add("i-"+n.name)}}}}}})}),view=new ldView({root:".ldcv.ldcv-view",action:{change:{fontfamily:function(e){var t;return t=e.node,view.get("viewer").style.fontFamily=t.value},fontsize:function(e){var t;return t=e.node,view.get("viewer").style.fontSize=t.value+"px"},iconname:function(e){var t;return t=e.node,view.get("icon").setAttribute("class","i-"+t.value)},iconsize:function(e){var t;return t=e.node,view.get("icon").style.fontSize=t.value+"em"},verticaloffset:function(e){var t,n;return t=e.node,n=view.get("icon").style,n.position="relative",n.top=t.value+"px",n}},click:{morefont:function(){return ldcv.font.toggle()},hint:function(){return view.get("viewer").classList.toggle("active"),view.get("hint-text").innerText=view.get("viewer").classList.contains("active")?"On":"Off"},useflexbox:function(){return view.get("inner").classList.toggle("d-flex"),view.get("inner").classList.toggle("align-items-center"),view.get("inner").classList.toggle("justify-content-center"),view.get("flexbox-text").innerText=view.get("inner").classList.contains("d-flex")?"On":"Off"}}}}),(choose=new ChooseFont({root:".ldcv.ldcv-font .chooser",metaUrl:"/assets/lib/choosefont.js/main/fontinfo/meta.json",base:"https://plotdb.github.io/xl-fontset/alpha"})).on("choose",function(e){return xfl.load(e.path,{},function(t){return t.sync("Hga國一ば뮤"),view.get("viewer").style.fontFamily=e.name,ldcv.font.toggle(!1)})}),choose.init();