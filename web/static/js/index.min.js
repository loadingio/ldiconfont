(function(){var n,o,i,e,r,n={view:new ldcover({root:".ldcv.ldcv-view"}),font:new ldcover({root:".ldcv.ldcv-font"})},o={},i=function(o){ld$.find(n.view.root(),".ldcv.ldcv-view i").map(function(e,t){var n;n=e.getAttribute("class");n=n.replace(/i-\S+/g,"");e.setAttribute("class",n);return e.classList.add("i-"+o)});return n.view.toggle(true)};return ld$.fetch("assets/lib/ldif/dev/ldif.json",{method:"GET"},{type:"json"}).then(function(e){return o.glyphs=new ldview({root:document.body,handler:{glyph:{key:function(e){return e.name},list:function(){return e},view:{action:{click:{cell:function(e){var t;t=e.context;return i(t.name)}}},text:{name:function(e){var t;t=e.context;return t.name},code:function(e){var t;t=e.context;return t.code}},handler:{icon:function(e){var t,n;t=e.node,n=e.context;return t.classList.add("i-"+n.name)}}}}}})}),o.ldcv=new ldview({root:n.view.root(),action:{change:{fontfamily:function(e){var t,n;t=e.views,n=e.node;return t[0].get("viewer").style.fontFamily=n.value},fontsize:function(e){var t,n;t=e.views,n=e.node;return t[0].get("viewer").style.fontSize=n.value+"px"},iconname:function(e){var t,n;t=e.views,n=e.node;return t[0].get("icon").setAttribute("class","i-"+n.value)},iconsize:function(e){var t,n;t=e.views,n=e.node;return t[0].get("icon").style.fontSize=n.value+"em"},verticaloffset:function(e){var t,n,o;t=e.views,n=e.node;return o=t[0].get("icon").style,o.position="relative",o.top=n.value+"px",o}},click:{morefont:function(){return n.font.toggle()},hint:function(e){var t;t=e.views;t[0].get("viewer").classList.toggle("active");return t[0].get("hint-text").innerText=t[0].get("viewer").classList.contains("active")?"On":"Off"},useflexbox:function(e){var t;t=e.views;t[0].get("inner").classList.toggle("d-flex");t[0].get("inner").classList.toggle("align-items-center");t[0].get("inner").classList.toggle("justify-content-center");return t[0].get("flexbox-text").innerText=t[0].get("inner").classList.contains("d-flex")?"On":"Off"}}}}),(e=new ChooseFont({root:ld$.find(n.font.root(),".chooser",0),metaUrl:"assets/lib/choosefont.js/main/dist/fontinfo/meta.json",base:"https://plotdb.github.io/xl-fontset/alpha"})).on("choose",function(t){return xfl.load(t.path,{},function(e){e.sync("Hga國一ば뮤");o.ldcv.get("viewer").style.fontFamily=t.name;return n.font.toggle(false)})}),e.init(),r=["line-24-bold","line-16-light"].map(function(e){var t;t=document.createElement("link");t.setAttribute("rel","stylesheet");t.setAttribute("type","text/css");t.setAttribute("href","assets/lib/ldif/dev/"+e+"/index.min.css");return{node:t,name:e}}),document.head.appendChild(r[0].node),o.body=new ldview({root:document.body,handler:{switch:{list:function(){return r},key:function(e){return e.name},action:{click:function(e){var t,n;t=e.views,n=e.data;r.map(function(e){if(e.node.parentNode)return e.node.parentNode.removeChild(e.node)});document.head.appendChild(n.node);return t[0].render()}},text:function(e){var t,n;t=e.node,n=e.data;return n.name},handler:function(e){var t,n;t=e.node,n=e.data;return t.classList.toggle("active",n.node.parentNode)}}}})}).apply({});